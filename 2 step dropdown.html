<!DOCTYPE html>
<html>
<head>
    <title>Form 1: State > City</title>
    <script>
        const stateToCity = {
            Karnataka: ["Bengaluru", "Mysuru", "Hubli"],
            Maharashtra: ["Mumbai", "Pune", "Nagpur"],
            TamilNadu: ["Chennai", "Coimbatore", "Madurai"]
        };

        function populateCities() {
            const stateSelect = document.getElementById("state");
            const citySelect = document.getElementById("city");

            citySelect.innerHTML = "<option value=''>Select City</option>"; // Reset city dropdown

            const selectedState = stateSelect.value;

            if (selectedState && stateToCity[selectedState]) {
                for (const city of stateToCity[selectedState]) {
                    const option = document.createElement("option");
                    option.value = city;
                    option.textContent = city;
                    citySelect.appendChild(option);
                }
            }
        }
    </script>
</head>
<body>
    <form>
        <label for="state">State:</label>
        <select id="state" name="state" onchange="populateCities()">
            <option value="">Select State</option>
            <option value="Karnataka">Karnataka</option>
            <option value="Maharashtra">Maharashtra</option>
            <option value="TamilNadu">Tamil Nadu</option>
        </select>
        <br><br>
        <label for="city">City:</label>
        <select id="city" name="city">
            <option value="">Select City</option>
        </select>
    </form>
</body>
</html>





<!-- <?php
include 'db_connection.php'; // Include database connection

// Initialize the array
$stateToCity = [];

// Query to fetch states and their cities
$stateQuery = "SELECT states.state_name, cities.city_name FROM states 
               JOIN cities ON states.id = cities.state_id";
$result = mysqli_query($conn, $stateQuery);

// Loop through the results and build the array
while ($row = mysqli_fetch_assoc($result)) {
    $state = $row['state_name'];
    $city = $row['city_name'];

    // If the state doesn't exist in the array, initialize it
    if (!isset($stateToCity[$state])) {
        $stateToCity[$state] = [];
    }

    // Add the city to the state's list
    $stateToCity[$state][] = $city;
}

// Convert to JSON for JavaScript
echo json_encode($stateToCity);
?> -->
<!-- <script>
    // PHP output as JSON
    const stateToCity = <?php echo json_encode($stateToCity); ?>;

    console.log(stateToCity);

    // Example: Access cities
    console.log(stateToCity.Karnataka); // Outputs: ["Bengaluru", "Mysuru", "Hubli"]
</script> -->
